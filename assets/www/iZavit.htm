<!DOCTYPE html> 

<html> 

<head> 


    <title>iZavit - World Intelligence Agency</title>    
    
    <!--http://en.wikipedia.org/wiki/JQuery_Mobile-->

    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link type="text/css" href="jquery.mobile-1.2.0.min.css" rel="stylesheet" />
    <link type="text/css" href="Mobile.css" rel="stylesheet" />

    <script src="jquery-1.8.2.min.js" type="text/javascript"></script>
    <script src="jquery.mobile-1.2.0.min.js" type="text/javascript"></script>
    <script src="cordova-2.2.0.js" type="text/javascript"></script>
    <script src="JSON2.js" type="text/javascript"></script>
    <script src="LocalStorage.js" type="text/javascript"></script>
    <script src="iZavit.js" type="text/javascript"></script>

    <script type="text/javascript" charset="utf-8">

        //Anonymous functions
        //http://2007-2010.lovemikeg.com/2008/08/17/a-week-in-javascript-patterns-self-invocation/

        //http://stackoverflow.com/questions/11138501/phonegap-for-android-deviceready-not-working

        //http://jquerymobile.com/test/docs/pages/phonegap.html
        $(document).bind("mobileinit", function () {
            // Make your jQuery Mobile framework configuration changes here!
            $.support.cors = true; 
            $.mobile.allowCrossDomainPages = true;
        });

        //Preferences 
        //http://www.javacodegeeks.com/2011/01/android-quick-preferences-tutorial.html
        //http://simonmacdonald.blogspot.co.uk/2012/06/phongap-android-application-preferences.html

        $(document).ready(function () {
            //Add handlers for the click event. http://api.jquery.com/click/
        });

        document.addEventListener('deviceready', function () {

            //won't fire when you 
            //super.setBooleanProperty("loadInWebView", true);

            navigator.splashscreen.hide();

            if (navigator.connection.type == Connection.NONE) { $.mobile.changePage($('#divNoNetwork')); } else ping(); ;

        }, false);

    </script>

    <style type="text/css">
        /* http://stackoverflow.com/questions/8718384/why-is-my-header-text-being-truncated */
        .ui-header .ui-title {
            margin-right: 10%;
            margin-left: 10%;
        }    
    </style>

</head> 

<body> 
 

    <div data-role="page" id="first" data-theme="a">
 
            <div data-role="header">
                <h1 id="hIssueTitle">Issue title</h1>
            </div>
 
            <div data-role="content">  

                <div id="divIssueContext">
                    Context fdasldasjld jasdlaj dlasj dlasjd alsdj asldj
                </div>

                <div id="divIssueContext2">
                    Contexct 2 sldkfjsdk fsdlkfj sdlkfj sdlfkjs dlfkjsdlf ksdlfk
                </div>

                <div data-role="fieldcontain">
                    <fieldset data-role="controlgroup">   
	                    <label data-iconpos="right"><input type="checkbox" name="checkbox-0" />This is interesting</label>
                        <label data-iconpos="right"><input type="checkbox" name="checkbox-0" />This is important</label>
                        <label data-iconpos="right"><input type="checkbox" name="checkbox-0" />We need action</label>
                    </fieldset>
                </div>
                    




                    

                    <button id="btnSubmit" value="vote" data-inline="true"></button>
                    <button id="btnNext" value="next" data-inline="true"></button>
                    <img src="images/ajax-loader-Blue.gif" id="imgALG"/> 

                    <p>Issue Selection Type:</p>
                    <fieldset data-role="controlgroup" data-type="horizontal" data-role="fieldcontain">
                        
                        <input type="radio" id="rbtnViewNewIssues" name="ViewIssues"/>
                        <label for="rbtnViewNewIssues">New</label> 
                        
                        <input type="radio" id="rbtnViewUpdatableIssues" name="ViewIssues"/>
                        <label for="rbtnViewUpdatableIssues">Updatable</label> 
                        
                        <input type="radio" id="rbtnViewAllIssues" name="ViewIssues" />
                        <label for="rbtnViewAllIssues">All</label> 
                    </fieldset>

                    <span id="lblErrors" CssClass="Errors"></span>

                    <a id="aSignIn" href="#divSignIn" data-transition="slide">Sign in</a>


            </div>
 
    </div>
 
    <div data-role="page" id="divNoNetwork" data-theme="b">
        <div data-role="header">
            <h1 id="h1">iZavit</h1>
        </div>
        <div  data-role="content" class="Information">
            <p>Please adjust your phone settings to allow this app to connect to the internet.</p>
            <p>You may need to enable WiFi or disable Flight Mode</p>
            <p>The iZavit app uses web services to retrieve data from and save data to a central database.</p>
            <p>Unfortunately a network conection cannot be detected at this time.</p>        
        </div>
    </div>

    <div data-role="page" id="divSignIn" data-add-back-btn="true" data-theme="b">
 
        <div data-role="header">
                <h1 id="hSignInOrRegister">Sign in</h1>
        </div>
 
        <div data-role="content" class = "ui-hide-label">       

            <input type="text" id="tbEmailAddress" name="tbEmailAddress" placeholder="email address" />
            <label for="tbEmailAddress">email</label>

            <input type="text" id="tbPassword" name="tbPassword" placeholder="password" />
            <label for="tbPassword">password</label>

            <button id="ButtonSignIn" value="sign in"></button>

            <p class="x-small">Your information is never shared with any other person or organisation without your permission.</p>

        </div>
 
    </div>


    <script type="text/javascript">

        /* "Trick" to slide up all paragraphs

            $("p").click(function () {
            $(this).slideUp(); 
            });

        */

        $("#ButtonSignIn").click(function () {
            SignIn($("#tbEmailAddress").val(), $("#tbPassword").val()) 
        });

        $("#ButtonSave").click(function () {
            lsSaveSettings();
        });

        $("#rbtnViewNewIssues").click(function () {
            IssueContendersSelect("N");
        });

        $("#rbtnViewUpdatableIssues").click(function () {
            IssueContendersSelect("U");
        });

        $("#rbtnViewAllIssues").click(function () {
            IssueContendersSelect("A");
        });

    </script> 

</body>

</html>